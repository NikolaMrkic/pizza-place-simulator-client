{"ast":null,"code":"var _jsxFileName = \"/home/nikola/projekti/CutApp/hairdressing-front-managment/src/components/admin-components/tables/UsersTable.js\";\nimport { React, useState, Table, Modal, Button } from \"../../../global\";\nimport UserForm from \"../forms/User/UserForm\";\nimport USER_ADMIN from \"../../../redux/actions/admin/userAction\";\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Spin } from \"antd\";\n\nconst UsersTable = () => {\n  const [isVisibleModal, setIsVisibleModal] = useState(false);\n  const [isDataForEdit, setDataForEdit] = useState(false);\n  const [userTitleForm, setUserTitle] = useState(\"Add User\");\n  const [useUser, setUser] = useState(\"\");\n  const users = useSelector(state => state.adminUsers.data);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(USER_ADMIN.request());\n  }, []);\n  console.log(\"users\", users); // if (users.length > 0) {\n\n  console.log(\"dataSource\", dataSource);\n  const dataSource = users.map((user, index) => {\n    return {\n      key: index,\n      userId: user.userId,\n      firstName: user.firstName,\n      lastName: user.lastName,\n      userName: user.userName,\n      email: user.email,\n      phone: user.phone,\n      address: user.address,\n      delete: user.delete\n    };\n  });\n  const columns = [{\n    title: \"ID\",\n    dataIndex: \"userId\",\n    key: \"userId\"\n  }, {\n    title: \"Ime\",\n    dataIndex: \"firstName\",\n    key: \"firstName\"\n  }, {\n    title: \"Prezime\",\n    dataIndex: \"lastName\",\n    key: \"lastName\"\n  }, {\n    title: \"Korisnicko ime\",\n    dataIndex: \"userName\",\n    key: \"userName\"\n  }, {\n    title: \"Email\",\n    dataIndex: \"email\",\n    key: \"email\"\n  }, {\n    title: \"Telefon\",\n    dataIndex: \"phone\",\n    key: \"phone\"\n  }, {\n    title: \"Uredi\",\n    dataIndex: \"Edit\",\n    key: \"Edit\",\n    render: (text, data) => /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: () => handlerForEdit(data),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, \"Edit\")\n  }, {\n    title: \"Obrisi\",\n    dataIndex: \"Delete\",\n    key: \"Delete\",\n    render: () => /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      danger: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, \"Delete\")\n  }];\n\n  const handlerForEdit = userForEdit => {\n    setUserTitle(\"Edit User : \" + userForEdit.firstName + \" \" + userForEdit.lastName);\n    setIsVisibleModal(true);\n    setDataForEdit(true);\n    setUser(userForEdit);\n  };\n\n  const resetForm = () => {\n    dispatch(USER_ADMIN.request());\n    setIsVisibleModal(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    pagination: {\n      pageSize: 10\n    },\n    dataSource: dataSource,\n    columns: columns,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    title: userTitleForm,\n    visible: isVisibleModal,\n    onCancel: resetForm,\n    width: 1300,\n    footer: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UserForm, {\n    initialValues: useUser,\n    editableForm: isDataForEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }))); // } else {\n  //   console.log(\"ELSE\");\n  //   return (\n  //     <div className=\"example\">\n  //       <Spin size=\"large\" />\n  //     </div>\n  //   );\n  // }\n};\n\nexport default UsersTable;","map":{"version":3,"sources":["/home/nikola/projekti/CutApp/hairdressing-front-managment/src/components/admin-components/tables/UsersTable.js"],"names":["React","useState","Table","Modal","Button","UserForm","USER_ADMIN","useEffect","useSelector","useDispatch","Spin","UsersTable","isVisibleModal","setIsVisibleModal","isDataForEdit","setDataForEdit","userTitleForm","setUserTitle","useUser","setUser","users","state","adminUsers","data","dispatch","request","console","log","dataSource","map","user","index","key","userId","firstName","lastName","userName","email","phone","address","delete","columns","title","dataIndex","render","text","handlerForEdit","userForEdit","resetForm","pageSize"],"mappings":"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","sourcesContent":["import { React, useState, Table, Modal, Button } from \"../../../global\";\nimport UserForm from \"../forms/User/UserForm\";\nimport USER_ADMIN from \"../../../redux/actions/admin/userAction\";\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Spin } from \"antd\";\n\nconst UsersTable = () => {\n  const [isVisibleModal, setIsVisibleModal] = useState(false);\n  const [isDataForEdit, setDataForEdit] = useState(false);\n  const [userTitleForm, setUserTitle] = useState(\"Add User\");\n\n  const [useUser, setUser] = useState(\"\");\n  const users = useSelector((state) => state.adminUsers.data);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(USER_ADMIN.request());\n  }, []);\n\n  console.log(\"users\", users);\n  // if (users.length > 0) {\n  console.log(\"dataSource\", dataSource);\n  const dataSource = users.map((user, index) => {\n    return {\n      key: index,\n      userId: user.userId,\n      firstName: user.firstName,\n      lastName: user.lastName,\n      userName: user.userName,\n      email: user.email,\n      phone: user.phone,\n      address: user.address,\n      delete: user.delete,\n    };\n  });\n\n  const columns = [\n    {\n      title: \"ID\",\n      dataIndex: \"userId\",\n      key: \"userId\",\n    },\n    {\n      title: \"Ime\",\n      dataIndex: \"firstName\",\n      key: \"firstName\",\n    },\n    {\n      title: \"Prezime\",\n      dataIndex: \"lastName\",\n      key: \"lastName\",\n    },\n    {\n      title: \"Korisnicko ime\",\n      dataIndex: \"userName\",\n      key: \"userName\",\n    },\n    {\n      title: \"Email\",\n      dataIndex: \"email\",\n      key: \"email\",\n    },\n    {\n      title: \"Telefon\",\n      dataIndex: \"phone\",\n      key: \"phone\",\n    },\n    {\n      title: \"Uredi\",\n      dataIndex: \"Edit\",\n      key: \"Edit\",\n      render: (text, data) => (\n        <Button type=\"primary\" onClick={() => handlerForEdit(data)}>\n          Edit\n        </Button>\n      ),\n    },\n    {\n      title: \"Obrisi\",\n      dataIndex: \"Delete\",\n      key: \"Delete\",\n      render: () => (\n        <Button type=\"primary\" danger>\n          Delete\n        </Button>\n      ),\n    },\n  ];\n\n  const handlerForEdit = (userForEdit) => {\n    setUserTitle(\n      \"Edit User : \" + userForEdit.firstName + \" \" + userForEdit.lastName\n    );\n    setIsVisibleModal(true);\n    setDataForEdit(true);\n    setUser(userForEdit);\n  };\n\n  const resetForm = () => {\n    dispatch(USER_ADMIN.request());\n    setIsVisibleModal(false);\n  };\n\n  return (\n    <div>\n      <Table\n        pagination={{ pageSize: 10 }}\n        dataSource={dataSource}\n        columns={columns}\n      />\n      <Modal\n        title={userTitleForm}\n        visible={isVisibleModal}\n        onCancel={resetForm}\n        width={1300}\n        footer={false}\n      >\n        <UserForm initialValues={useUser} editableForm={isDataForEdit} />\n      </Modal>\n    </div>\n  );\n  // } else {\n  //   console.log(\"ELSE\");\n  //   return (\n  //     <div className=\"example\">\n  //       <Spin size=\"large\" />\n  //     </div>\n  //   );\n  // }\n};\n\nexport default UsersTable;\n"]},"metadata":{},"sourceType":"module"}